# Railway Deployment Environment Variables for SocialCapital Open WebUI
# Copy these to your Railway service environment variables
# See: https://railway.app/project/[your-project-id]/service/[your-service-id]/settings/variables

# === DATABASE (CRITICAL - REQUIRED) ===
# Your Neon PostgreSQL connection string
DATABASE_URL="postgresql://sergous:5yPZmS3cMiEl@ep-red-bird-340485-pooler.us-east-2.aws.neon.tech/app.ai.socialcapital.social?sslmode=require&channel_binding=require"

# === VECTOR DATABASE ===
# pgvector support for RAG (embeddings and document search)
VECTOR_DB="pgvector"

# === DATABASE TUNING ===
# Connection pooling optimized for Railway (shared resources)
DATABASE_POOL_SIZE=5
DATABASE_POOL_MAX_OVERFLOW=5
ENABLE_DB_MIGRATIONS=true

# === SECURITY ===
# CORS - Set to your actual domain in production (not localhost)
CORS_ALLOW_ORIGIN="https://app.ai.socialcapital.social"
# Leave empty to auto-generate a secure key
WEBUI_SECRET_KEY=""
FORWARDED_ALLOW_IPS="127.0.0.1"

# === LOGGING ===
# Debug logging for first deploy, change to INFO after verified working
GLOBAL_LOG_LEVEL=DEBUG

# === BUILD CONFIGURATION ===
# Slim mode - skip model downloads during build (download on first use)
USE_SLIM=true
ENV=prod

# === OPTIONAL API KEYS ===
# Add these if you want to use external AI providers
# OPENAI_API_KEY=""
# ANTHROPIC_API_KEY=""
# GOOGLE_API_KEY=""

# === OPTIONAL - EXTERNAL SERVICES ===
# If you have external Ollama, uncomment and set URL
# OLLAMA_BASE_URL="https://ollama.com"

# === OPTIONAL - ADVANCED SETTINGS ===
# Performance tuning (usually not needed)
# UVICORN_WORKERS=2
# PYTHONOPTIMIZE=1
# PYTHONDONTWRITEBYTECODE=1

# === TELEMETRY ===
# Disable all analytics and telemetry
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false

# === NOTES ===
# 1. DATABASE_URL: Make sure your Neon database has the 'vector' extension enabled
#    Run in Neon console: CREATE EXTENSION IF NOT EXISTS vector;
# 2. CORS_ALLOW_ORIGIN: Change from localhost to your actual domain
# 3. GLOBAL_LOG_LEVEL: Change to INFO after deployment is verified working
# 4. API Keys: Only add if you plan to use these providers